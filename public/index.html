<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <title>プレゼン動作のデザイン</title>
    <meta name="description" content="実験用のUI">
    <meta http-equiv="content-type">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/hashtag.css">
    <link rel="stylesheet" href="css/backbtn.css">
    <link rel="stylesheet" href="css/list.css">
    <link rel="stylesheet" href="css/contextmenu.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="python/libqi-js/libs/qimessaging/1.0/qimessaging.js"></script>


    <script src="js/main.js"></script>
    <script src="js/sort.js"></script>

    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <!-- javascriptのファイル名 -->

</head>

<body onContextmenu="return false;">
    <!----- header----->
    <!-- <header>プレゼン動作のデザイン</header> -->
    <!----- /header ----->

    <!----- main ----->
    <!-- <h1>タイトル</h1> -->

    <section>

        <div class="g-slide">
            <iframe
                src="https://docs.google.com/presentation/d/e/2PACX-1vSkiPQJM-nPoMSIwRNDir4CtyYk59Bz71jLqDud-JOzHDCLjKWmIwShWodrNoDT5akzJXvELXnz0Yqr/embed?start=false&loop=true&delayms=3000"
                frameborder="0" allowfullscreen="false" mozallowfullscreen="false"
                webkitallowfullscreen="falseS"></iframe>
        </div>

        <div class="mv">
            <video src="video.mp4" controls autobuffer></video>
        </div>
    </section>

    <section>
        <form name="form1">
            <div>
                <div class="container">
                    <textarea cols="100" rows="5" id="textarea1"></textarea>
                </div>
            </div>
        </form>

        <div id="contextmenu">
            <h2>意図を選択してください</h2>
            <div>
                <input type="radio" id="intention1" name="intention" value="注意喚起" checked>
                <label for="intention1">注意喚起</label>
                <input type="radio" id="intention2" name="intention" value="注意誘導">
                <label for="intention2">注意誘導</label>
                <input type="radio" id="intention3" name="intention" value="注意喚起＋誘導">
                <label for="intention3">注意喚起＋誘導</label>
            </div>

            <h2>話し方を選択してください</h2>
            <div>
                <input type="radio" id="para1" name="para" value="デフォルト" checked>
                <label for="intention1">デフォルト</label>
                <input type="radio" id="para2" name="para" value="強調">
                <label for="intention2">強調</label>
            </div>

            <h2>顔向けを選択してください</h2>
            <div>
                <input type="radio" id="face1" name="face" value="顔向けなし" checked>
                <label for="intention1">なし</label>

                <input type="radio" id="face2" name="face" value="顔向けあり">
                <label for="intention2">あり</label>

            </div>

            <h2>動作を選択してください</h2>
            <div>
                <input type="radio" id="motion0" name="motion" value="" checked>
                <label for="motion1">なし</label>
                <input type="radio" id="motion1" name="motion" value="motion1">
                <label for="motion1">上段指差し</label>
                <input type="radio" id="motion2" name="motion" value="motion2">
                <label for="motion2">中段指差し</label>
                <input type="radio" id="motion3" name="motion" value="motion3">
                <label for="motion3">下段指差し</label><br>
                <input type="radio" id="motion4" name="motion" value="motion4">
                <label for="motion4">手前指さし</label>
                <input type="radio" id="motion5" name="motion" value="motion5">
                <label for="motion5">奥指さし</label>　
                <input type="radio" id="motion11" name="motion" value="motion11">
                <label for="motion11">動作強調</label>　
                <ul>
                    <button type="button" onclick="design()">デザイン</button>
                    <button type="button" onclick="design_cancel()">キャンセル</button>
                </ul>
            </div>

            <script>
                window.onload = function () {
                    document.getElementById("textarea1").addEventListener('contextmenu', function (e) {
                        //マウスの位置をstyleへ設定（左上の開始位置を指定）
                        document.getElementById('contextmenu').style.left = e.pageX + "px";
                        document.getElementById('contextmenu').style.top = e.pageY + "px";
                        //メニューをblockで表示させる
                        document.getElementById('contextmenu').style.display = "block";
                    });
                }
            </script>
    </section>
    <button type="button" id="1" onclick="save()">保存</button>
    <button type="button" onclick="play()">再生</button>
    <section>
        <button onclick="location.href='slide2.html'">スライド２</button>
        <button onclick="location.href='slide3.html'">スライド３</button>
        <button onclick="location.href='slide4.html'">スライド４</button>
        <button onclick="location.href='slide5.html'">スライド５</button>
    </section>

    <ul class="list">
    </ul>

    <script>
        jQuery(function () {
            jQuery("textarea").hashtag();
        });
    </script>

    <script type="text/javascript">
        const mode = "slide1";
        const id = "sample"
        var socket = io.connect();
        var options = {
            mode: 'text', // textもしくはjson
            pythonPath: 'C:/Python27/python.exe',
            pythonOptions: ['-u'],
        };

        socket.on('checkmode', () => {
            socket.emit("returnmode", mode, id);
        })

        socket.on('senddata', (data, jsondata) => {
            let element = document.getElementById('textarea1');
            element.value = data;
            loaddata(jsondata);
        })

        function save() {
            let element = document.getElementById('textarea1');
            let textdata = element.value;
            deform_class()
            let jsondata = tojson();
            let jdata = rjson();
            update();
            socket.emit("jsonSave", jsondata, textdata, jdata, mode, id);
        }
        function play() {
            socket.emit("moveNao", mode, id);
        }
    </script>
    <!----- /main ----->

    <!----- footer ----->
    <!-- <footer>フッター</footer> -->
    <!----- /footer ----->
</body>

</html>