<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <title>プレゼン動作のデザイン</title>
    <meta name="description" content="実験用のUI">
    <meta http-equiv="content-type">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/hashtag.css">
    <link rel="stylesheet" href="css/backbtn.css">
    <link rel="stylesheet" href="css/contextmenu.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="python/libqi-js/libs/qimessaging/1.0/qimessaging.js"></script>


    <script src="js/mv.js"></script>
    <script src="js/backbtn.js"></script>
    <script src="js/sort.js"></script>

    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <!-- javascriptのファイル名 -->

</head>

<body onContextmenu="return false;">
    <!----- header----->
    <!-- <header>プレゼン動作のデザイン</header> -->
    <!----- /header ----->

    <!----- main ----->
    <!-- <h1>タイトル</h1> -->

    <section>

        <div class="g-slide">
            <iframe
                src="https://docs.google.com/presentation/d/e/2PACX-1vSkiPQJM-nPoMSIwRNDir4CtyYk59Bz71jLqDud-JOzHDCLjKWmIwShWodrNoDT5akzJXvELXnz0Yqr/embed?start=false&loop=true&delayms=3000"
                frameborder="0" allowfullscreen="false" mozallowfullscreen="false"
                webkitallowfullscreen="falseS"></iframe>
        </div>

        <div class="mv">
            <video src="video.mp4" controls autobuffer></video>
        </div>
    </section>

    <section>
        <form name="form1">
            <div>
                <div class="container">
                    <textarea cols="100" rows="5" id="textarea1">私は宇宙人です。20光年かけて地球にやって来ました。宇宙には様々な宇宙人が住んでいます。</textarea>
                </div>
            </div>
        </form>

        <div id="contextmenu">
            <h2>意図を選択してください</h2>
            <div>
                <input type="radio" id="intention1" name="intention" value="int1" checked>
                <label for="intention1">注意喚起</label>

                <input type="radio" id="intention2" name="intention" value="int2">
                <label for="intention2">注意誘導</label>

                <input type="radio" id="intention3" name="intention" value="int3">
                <label for="intention3">注意喚起＋誘導</label>
            </div>
            <h2>動作を選択してください</h2>
            <div>
                <input type="radio" id="motion1" name="motion" value="motion1" checked>
                <label for="motion1">指差し</label>

                <input type="radio" id="motion2" name="motion" value="motion2">
                <label for="motion2">視線</label>

                <input type="radio" id="motion3" name="motion" value="motion3">
                <label for="motion3">指差し＋視線</label>
                <ul>
                    <button type="button" onclick="design()">デザイン</button>
                    <button type="button" onclick="design_cancel()">キャンセル</button>
                </ul>
            </div>

            <script>
                window.onload = function () {
                    document.getElementById("textarea1").addEventListener('contextmenu', function (e) {
                        //マウスの位置をstyleへ設定（左上の開始位置を指定）
                        document.getElementById('contextmenu').style.left = e.pageX + "px";
                        document.getElementById('contextmenu').style.top = e.pageY + "px";
                        //メニューをblockで表示させる
                        document.getElementById('contextmenu').style.display = "block";
                    });
                }
            </script>
    </section>
    <button type="button" id="1" onclick="save()">保存</button>
    <button type="button" onclick="play()">再生</button>
    <section>

    </section>

    <script>
        jQuery(function () {
            jQuery("textarea").hashtag();
        });
    </script>

    <script type="text/javascript">
        var socket = io.connect();
        var options = {
            mode: 'text', // textもしくはjson
            pythonPath: 'C:/Python27/python.exe',
            pythonOptions: ['-u'],
        };

        function save() {
            console.log("save");
            deform_class()
            data = tojson();
            socket.emit("jsonSave", data);
        }
        function play() {
            console.log("play");
            socket.emit("moveNao");
        }


        // function textSave(target) {
        //     var sbtnid = target.id;
        //     var id = sbtnid.replace("saveB_", "");
        //     var element = document.getElementById('inputform_' + id);
        //     var text = element.value;
        //     socket.emit("changeText", text, id);
        // }

        // function playBtn(target) {
        //     var pbtnid = target.id;
        //     var id = pbtnid.replace("playB_", "");
        //     socket.emit("moveNao", id);
        // }

        // function addBtn() {
        //     socket.emit("addForm");
        // }

        // function addForm_designBtn() {
        //     socket.emit("addForm_design");
        // }

        // socket.on('Textload', (text, flag, i) => {
        //     if (flag == "design") {
        //         addForm_design(i);
        //         console.log("design");
        //     }
        //     else {
        //         addForm(i)
        //         console.log("undesign");
        //     }
        //     var target = document.getElementById(i);
        //     a = target.children;
        //     a[0].value = text;
        // })

        // socket.on('addform', (i) => {
        //     addForm(i);
        // })

        // socket.on('addform_design', (j) => {
        //     addForm_design(j);
        // })

        // function deleteBtn(target) {
        //     var target_id = target.id;
        //     var target = document.getElementById(target_id);
        //     var parent = target.parentElement;
        //     var bigparent = document.getElementById('form_area');
        //     // 指定したclass名の要素の集合（HTMLCollection）を取得
        //     var boxes = document.getElementsByClassName("box");
        //     // 要素の集合を配列に変換
        //     var arrayboxes = Array.prototype.slice.call(boxes);
        //     var index = arrayboxes.indexOf(parent);

        //     socket.emit('delete_json', index);
        //     console.log(arrayboxes);
        //     console.log(index);

        //     bigparent.removeChild(parent);
        // }
    </script>





    <!----- /main ----->

    <!----- footer ----->
    <!-- <footer>フッター</footer> -->
    <!----- /footer ----->
</body>

</html>